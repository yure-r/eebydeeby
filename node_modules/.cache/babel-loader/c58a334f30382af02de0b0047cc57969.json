{"ast":null,"code":"import _classCallCheck from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/src/Library.js\";\nimport React, { Component } from 'react';\nimport './List.css';\nimport './Library.css';\nvar App;\nvar lastCategory;\n\nvar Library = /*#__PURE__*/function (_Component) {\n  _inherits(Library, _Component);\n\n  var _super = _createSuper(Library);\n\n  function Library(props) {\n    var _this;\n\n    _classCallCheck(this, Library);\n\n    _this = _super.call(this, props);\n\n    _this.makeItem = function (asset, i) {\n      var categoryEl;\n\n      if (asset.category !== lastCategory) {\n        categoryEl = /*#__PURE__*/React.createElement(\"li\", {\n          className: \"category\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 22\n          }\n        }, asset.prettyCategory);\n        lastCategory = asset.category;\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: i,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }\n      }, categoryEl, /*#__PURE__*/React.createElement(\"li\", {\n        title: asset.prettyName,\n        onClick: function onClick() {\n          return App.addLayer(asset.name);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 7\n        }\n      }, asset.imgEl));\n    };\n\n    _this.onDrag = function (e) {\n      e.preventDefault();\n      App.setState({\n        isDragging: e.type === 'dragover'\n      });\n    };\n\n    _this.onDrop = function (e) {\n      _this.onDrag(e);\n\n      Array.from(e.dataTransfer.files).filter(function (file) {\n        return /(.png|.jpeg|.jpg|.gif)$/.test(file.name);\n      }).forEach(function (file) {\n        var reader = new FileReader();\n\n        reader.onloadend = function (e) {\n          return App.addCustomAsset(file.name, reader.result);\n        };\n\n        reader.readAsDataURL(file);\n      });\n    };\n\n    App = _this.props.app;\n    return _this;\n  }\n\n  _createClass(Library, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"List Library\",\n        onDragOver: this.onDrag,\n        onDragLeave: this.onDrag,\n        onDrop: this.onDrop,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 9\n        }\n      }, App.state.assets.map(this.makeItem)), App.state.isDragging && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dragOverlay\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 35\n        }\n      }, \"Drop images here\"));\n    }\n  }]);\n\n  return Library;\n}(Component);\n\nexport default Library;","map":{"version":3,"names":["React","Component","App","lastCategory","Library","props","makeItem","asset","i","categoryEl","category","prettyCategory","prettyName","addLayer","name","imgEl","onDrag","e","preventDefault","setState","isDragging","type","onDrop","Array","from","dataTransfer","files","filter","file","test","forEach","reader","FileReader","onloadend","addCustomAsset","result","readAsDataURL","app","state","assets","map"],"sources":["/Users/richardyurewitch/Downloads/emojibuilder-master 3/src/Library.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './List.css';\nimport './Library.css';\n\nlet App;\nlet lastCategory;\n\nclass Library extends Component {\n  constructor(props) {\n    super(props);\n    App = this.props.app;\n  }\n\n  render() {\n    return (\n      <div \n        className='List Library'\n        onDragOver={this.onDrag}\n        onDragLeave={this.onDrag}\n        onDrop={this.onDrop}\n      >\n        <ul>\n          {App.state.assets.map(this.makeItem)}\n        </ul>\n\n        { App.state.isDragging && <div className='dragOverlay'>Drop images here</div> }\n      </div>\n    );\n  }\n\n  makeItem = (asset, i) => {\n    let categoryEl;\n    if (asset.category !== lastCategory) {\n      categoryEl = ( <li className='category'>{asset.prettyCategory}</li> );\n      lastCategory = asset.category;\n    }\n    \n    return (<React.Fragment key={i}>\n      {categoryEl}\n      <li \n        title={asset.prettyName} \n        onClick={() => App.addLayer(asset.name)}\n      >\n        {asset.imgEl}\n      </li>\n    </React.Fragment>);\n  }\n  \n  onDrag = (e) => {\n    e.preventDefault();\n\n    App.setState({\n      isDragging: (e.type === 'dragover')\n    });\n  }\n  \n  onDrop = (e) => {\n    this.onDrag(e);\n    \n    Array.from(e.dataTransfer.files)\n    .filter(file => /(.png|.jpeg|.jpg|.gif)$/.test(file.name))\n    .forEach(file => {\n      const reader = new FileReader();\n      reader.onloadend = (e) => App.addCustomAsset(file.name, reader.result);\n      reader.readAsDataURL(file);\n    })\n  }\n}\n\nexport default Library;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAO,eAAP;AAEA,IAAIC,GAAJ;AACA,IAAIC,YAAJ;;IAEMC,O;;;;;EACJ,iBAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0BAAMA,KAAN;;IADiB,MAsBnBC,QAtBmB,GAsBR,UAACC,KAAD,EAAQC,CAAR,EAAc;MACvB,IAAIC,UAAJ;;MACA,IAAIF,KAAK,CAACG,QAAN,KAAmBP,YAAvB,EAAqC;QACnCM,UAAU,gBAAK;UAAI,SAAS,EAAC,UAAd;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,GAA0BF,KAAK,CAACI,cAAhC,CAAf;QACAR,YAAY,GAAGI,KAAK,CAACG,QAArB;MACD;;MAED,oBAAQ,oBAAC,KAAD,CAAO,QAAP;QAAgB,GAAG,EAAEF,CAArB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACLC,UADK,eAEN;QACE,KAAK,EAAEF,KAAK,CAACK,UADf;QAEE,OAAO,EAAE;UAAA,OAAMV,GAAG,CAACW,QAAJ,CAAaN,KAAK,CAACO,IAAnB,CAAN;QAAA,CAFX;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAIGP,KAAK,CAACQ,KAJT,CAFM,CAAR;IASD,CAtCkB;;IAAA,MAwCnBC,MAxCmB,GAwCV,UAACC,CAAD,EAAO;MACdA,CAAC,CAACC,cAAF;MAEAhB,GAAG,CAACiB,QAAJ,CAAa;QACXC,UAAU,EAAGH,CAAC,CAACI,IAAF,KAAW;MADb,CAAb;IAGD,CA9CkB;;IAAA,MAgDnBC,MAhDmB,GAgDV,UAACL,CAAD,EAAO;MACd,MAAKD,MAAL,CAAYC,CAAZ;;MAEAM,KAAK,CAACC,IAAN,CAAWP,CAAC,CAACQ,YAAF,CAAeC,KAA1B,EACCC,MADD,CACQ,UAAAC,IAAI;QAAA,OAAI,0BAA0BC,IAA1B,CAA+BD,IAAI,CAACd,IAApC,CAAJ;MAAA,CADZ,EAECgB,OAFD,CAES,UAAAF,IAAI,EAAI;QACf,IAAMG,MAAM,GAAG,IAAIC,UAAJ,EAAf;;QACAD,MAAM,CAACE,SAAP,GAAmB,UAAChB,CAAD;UAAA,OAAOf,GAAG,CAACgC,cAAJ,CAAmBN,IAAI,CAACd,IAAxB,EAA8BiB,MAAM,CAACI,MAArC,CAAP;QAAA,CAAnB;;QACAJ,MAAM,CAACK,aAAP,CAAqBR,IAArB;MACD,CAND;IAOD,CA1DkB;;IAEjB1B,GAAG,GAAG,MAAKG,KAAL,CAAWgC,GAAjB;IAFiB;EAGlB;;;;WAED,kBAAS;MACP,oBACE;QACE,SAAS,EAAC,cADZ;QAEE,UAAU,EAAE,KAAKrB,MAFnB;QAGE,WAAW,EAAE,KAAKA,MAHpB;QAIE,MAAM,EAAE,KAAKM,MAJf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAME;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACGpB,GAAG,CAACoC,KAAJ,CAAUC,MAAV,CAAiBC,GAAjB,CAAqB,KAAKlC,QAA1B,CADH,CANF,EAUIJ,GAAG,CAACoC,KAAJ,CAAUlB,UAAV,iBAAwB;QAAK,SAAS,EAAC,aAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,sBAV5B,CADF;IAcD;;;;EArBmBnB,S;;AA8DtB,eAAeG,OAAf"},"metadata":{},"sourceType":"module"}