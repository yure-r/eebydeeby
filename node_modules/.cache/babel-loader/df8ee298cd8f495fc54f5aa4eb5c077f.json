{"ast":null,"code":"import _classCallCheck from\"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'./List.css';import'./Library.css';var App;var lastCategory;var Library=/*#__PURE__*/function(_Component){_inherits(Library,_Component);var _super=_createSuper(Library);function Library(props){var _this;_classCallCheck(this,Library);_this=_super.call(this,props);_this.makeItem=function(asset,i){var categoryEl;if(asset.category!==lastCategory){categoryEl=/*#__PURE__*/React.createElement(\"li\",{className:\"category\"},asset.prettyCategory);lastCategory=asset.category;}return/*#__PURE__*/React.createElement(React.Fragment,{key:i},categoryEl,/*#__PURE__*/React.createElement(\"li\",{title:asset.prettyName,onClick:function onClick(){return App.addLayer(asset.name);}},asset.imgEl));};_this.onDrag=function(e){e.preventDefault();App.setState({isDragging:e.type==='dragover'});};_this.onDrop=function(e){_this.onDrag(e);Array.from(e.dataTransfer.files).filter(function(file){return /(.png|.jpeg|.jpg|.gif)$/.test(file.name);}).forEach(function(file){var reader=new FileReader();reader.onloadend=function(e){return App.addCustomAsset(file.name,reader.result);};reader.readAsDataURL(file);});};App=_this.props.app;return _this;}_createClass(Library,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"List Library\",onDragOver:this.onDrag,onDragLeave:this.onDrag,onDrop:this.onDrop},/*#__PURE__*/React.createElement(\"ul\",null,App.state.assets.map(this.makeItem)),App.state.isDragging&&/*#__PURE__*/React.createElement(\"div\",{className:\"dragOverlay\"},\"Drop images here\"));}}]);return Library;}(Component);export default Library;","map":{"version":3,"names":["React","Component","App","lastCategory","Library","props","makeItem","asset","i","categoryEl","category","prettyCategory","prettyName","addLayer","name","imgEl","onDrag","e","preventDefault","setState","isDragging","type","onDrop","Array","from","dataTransfer","files","filter","file","test","forEach","reader","FileReader","onloadend","addCustomAsset","result","readAsDataURL","app","state","assets","map"],"sources":["/Users/richardyurewitch/Downloads/emojibuilder-master 3/src/Library.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './List.css';\nimport './Library.css';\n\nlet App;\nlet lastCategory;\n\nclass Library extends Component {\n  constructor(props) {\n    super(props);\n    App = this.props.app;\n  }\n\n  render() {\n    return (\n      <div \n        className='List Library'\n        onDragOver={this.onDrag}\n        onDragLeave={this.onDrag}\n        onDrop={this.onDrop}\n      >\n        <ul>\n          {App.state.assets.map(this.makeItem)}\n        </ul>\n\n        { App.state.isDragging && <div className='dragOverlay'>Drop images here</div> }\n      </div>\n    );\n  }\n\n  makeItem = (asset, i) => {\n    let categoryEl;\n    if (asset.category !== lastCategory) {\n      categoryEl = ( <li className='category'>{asset.prettyCategory}</li> );\n      lastCategory = asset.category;\n    }\n    \n    return (<React.Fragment key={i}>\n      {categoryEl}\n      <li \n        title={asset.prettyName} \n        onClick={() => App.addLayer(asset.name)}\n      >\n        {asset.imgEl}\n      </li>\n    </React.Fragment>);\n  }\n  \n  onDrag = (e) => {\n    e.preventDefault();\n\n    App.setState({\n      isDragging: (e.type === 'dragover')\n    });\n  }\n  \n  onDrop = (e) => {\n    this.onDrag(e);\n    \n    Array.from(e.dataTransfer.files)\n    .filter(file => /(.png|.jpeg|.jpg|.gif)$/.test(file.name))\n    .forEach(file => {\n      const reader = new FileReader();\n      reader.onloadend = (e) => App.addCustomAsset(file.name, reader.result);\n      reader.readAsDataURL(file);\n    })\n  }\n}\n\nexport default Library;\n"],"mappings":"oiBAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,YAAP,CACA,MAAO,eAAP,CAEA,GAAIC,IAAJ,CACA,GAAIC,aAAJ,C,GAEMC,Q,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EADiB,MAsBnBC,QAtBmB,CAsBR,SAACC,KAAD,CAAQC,CAAR,CAAc,CACvB,GAAIC,WAAJ,CACA,GAAIF,KAAK,CAACG,QAAN,GAAmBP,YAAvB,CAAqC,CACnCM,UAAU,cAAK,0BAAI,SAAS,CAAC,UAAd,EAA0BF,KAAK,CAACI,cAAhC,CAAf,CACAR,YAAY,CAAGI,KAAK,CAACG,QAArB,CACD,CAED,mBAAQ,oBAAC,KAAD,CAAO,QAAP,EAAgB,GAAG,CAAEF,CAArB,EACLC,UADK,cAEN,0BACE,KAAK,CAAEF,KAAK,CAACK,UADf,CAEE,OAAO,CAAE,yBAAMV,IAAG,CAACW,QAAJ,CAAaN,KAAK,CAACO,IAAnB,CAAN,EAFX,EAIGP,KAAK,CAACQ,KAJT,CAFM,CAAR,CASD,CAtCkB,OAwCnBC,MAxCmB,CAwCV,SAACC,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GAEAhB,GAAG,CAACiB,QAAJ,CAAa,CACXC,UAAU,CAAGH,CAAC,CAACI,IAAF,GAAW,UADb,CAAb,EAGD,CA9CkB,OAgDnBC,MAhDmB,CAgDV,SAACL,CAAD,CAAO,CACd,MAAKD,MAAL,CAAYC,CAAZ,EAEAM,KAAK,CAACC,IAAN,CAAWP,CAAC,CAACQ,YAAF,CAAeC,KAA1B,EACCC,MADD,CACQ,SAAAC,IAAI,QAAI,2BAA0BC,IAA1B,CAA+BD,IAAI,CAACd,IAApC,CAAJ,EADZ,EAECgB,OAFD,CAES,SAAAF,IAAI,CAAI,CACf,GAAMG,OAAM,CAAG,GAAIC,WAAJ,EAAf,CACAD,MAAM,CAACE,SAAP,CAAmB,SAAChB,CAAD,QAAOf,IAAG,CAACgC,cAAJ,CAAmBN,IAAI,CAACd,IAAxB,CAA8BiB,MAAM,CAACI,MAArC,CAAP,EAAnB,CACAJ,MAAM,CAACK,aAAP,CAAqBR,IAArB,EACD,CAND,EAOD,CA1DkB,CAEjB1B,GAAG,CAAG,MAAKG,KAAL,CAAWgC,GAAjB,CAFiB,aAGlB,C,0CAED,iBAAS,CACP,mBACE,2BACE,SAAS,CAAC,cADZ,CAEE,UAAU,CAAE,KAAKrB,MAFnB,CAGE,WAAW,CAAE,KAAKA,MAHpB,CAIE,MAAM,CAAE,KAAKM,MAJf,eAME,8BACGpB,GAAG,CAACoC,KAAJ,CAAUC,MAAV,CAAiBC,GAAjB,CAAqB,KAAKlC,QAA1B,CADH,CANF,CAUIJ,GAAG,CAACoC,KAAJ,CAAUlB,UAAV,eAAwB,2BAAK,SAAS,CAAC,aAAf,qBAV5B,CADF,CAcD,C,qBArBmBnB,S,EA8DtB,cAAeG,QAAf"},"metadata":{},"sourceType":"module"}