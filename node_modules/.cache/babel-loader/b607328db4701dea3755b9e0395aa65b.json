{"ast":null,"code":"import _toConsumableArray from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/richardyurewitch/Downloads/emojibuilder-master 3/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport './Panel.css';\nimport Loading from './Loading.js';\nimport Library from './Library.js';\nimport Layers from './Layers.js';\nimport Canvas from './Canvas.js';\nimport Title from './Title.js';\nimport Button from './Button.js';\nimport Import from './Import.js';\nimport config from './config.js';\nimport assets from './assets.js';\nimport { toTitleCase } from './utils.js';\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      assets: assets,\n      assetsLoaded: 0,\n      allAssetsLoaded: false,\n      layers: [],\n      title: ''\n    };\n    _this.config = config;\n    _this.Library = /*#__PURE__*/React.createRef();\n    _this.Layers = /*#__PURE__*/React.createRef();\n    _this.Canvas = /*#__PURE__*/React.createRef();\n    _this.Title = /*#__PURE__*/React.createRef();\n    _this.SaveButton = /*#__PURE__*/React.createRef();\n\n    _this.findAsset = function (name) {\n      return _this.state.assets.find(function (asset) {\n        return asset.name === name;\n      });\n    };\n\n    _this.addCustomAsset = function (name, src) {\n      name = name.substr(0, name.lastIndexOf('.')).replace(/_|-/g, ' ');\n      var prettyName = toTitleCase(name);\n      var imgEl = /*#__PURE__*/React.createElement(\"img\", {\n        src: src,\n        alt: prettyName,\n        className: \"asset\",\n        draggable: false,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 19\n        }\n      });\n      var img = document.createElement('img');\n      var asset = {\n        name: name,\n        prettyName: prettyName,\n        category: 'custom',\n        prettyCategory: 'Custom',\n        src: src,\n        imgEl: imgEl,\n        img: img\n      };\n\n      img.onload = function (e) {\n        var assets = _toConsumableArray(_this.state.assets);\n\n        assets.unshift(asset);\n\n        _this.setState({\n          assets: assets\n        }, function () {\n          _this.addLayer(asset.name);\n        });\n      };\n\n      img.src = src;\n    };\n\n    _this.randomize = function () {\n      function pick(category) {\n        var picks = assets.filter(function (asset) {\n          return asset.category === category;\n        });\n        return picks[Math.floor(Math.random() * picks.length)].name;\n      }\n\n      _this.clear().then(function () {\n        _this.addLayer(pick('mouth'));\n\n        var eye = pick('eye');\n\n        _this.addLayer(eye);\n\n        if (Math.random() > 0.5) _this.addLayer(eye);else _this.addLayer(pick('eye'));\n        if (Math.random() > 0.5) _this.addLayer(pick('acc'), Math.random() > 0.5);\n      });\n    };\n\n    _this.clear = function (callback) {\n      var base = _this.findBaseLayer();\n\n      var baseAssetName = base ? base.asset.name : 'face_base';\n      return new Promise(function (resolve, reject) {\n        _this.setState({\n          layers: []\n        }, function () {\n          if (baseAssetName) _this.addLayer(baseAssetName);\n          resolve();\n        });\n      });\n    };\n\n    _this.save = function () {\n      var canvas = _this.Canvas.current.mainCanvas.current;\n\n      var title = _this.Title.current.getTitle();\n\n      var button = _this.SaveButton.current;\n      button.href = canvas.toDataURL();\n      button.download = title.replace(/ /g, '_') + '.png';\n\n      if (window.gtag) {\n        window.gtag('event', 'download', {\n          event_category: 'emojibuilder',\n          event_label: title\n        });\n      }\n    };\n\n    _this.addLayer = function (assetName, flipped) {\n      var layers = _toConsumableArray(_this.state.layers);\n\n      var layer = {\n        asset: _this.findAsset(assetName),\n        flipped: flipped,\n        transform: {\n          translateX: 0,\n          translateY: 0,\n          scale: 1,\n          rotate: 0\n        },\n        showTransforms: false\n      }; // Flip any second 'eye' layers or duplicates\n\n      if (flipped === undefined) {\n        var eyes = layers.filter(function (layer) {\n          return layer.asset.category === 'eye';\n        });\n        var dups = layers.filter(function (layer) {\n          return layer.asset.name === assetName;\n        });\n        layer.flipped = eyes.length === 1 && !eyes[0].flipped || dups.length === 1 && !dups[0].flipped;\n      } // Only allow one 'base' layer\n\n\n      if (layer.asset.base) {\n        layers = layers.filter(function (layer) {\n          return !layer.asset.base;\n        });\n      } // Add layer at a specific position\n\n\n      if (layer.asset.position !== undefined && layers.length > 0) {\n        var insertIndex = Math.min(layer.asset.position, layers.length - 1);\n        layers.splice(insertIndex, 0, layer);\n      } // Or just at the end\n      else {\n        layers.push(layer);\n      }\n\n      _this.setState({\n        layers: layers\n      });\n    };\n\n    _this.removeLayer = function (layer) {\n      var layers = _toConsumableArray(_this.state.layers);\n\n      var index = layers.indexOf(layer);\n      layers.splice(index, 1);\n\n      _this.setState({\n        layers: layers\n      });\n    };\n\n    _this.flipLayer = function (layer) {\n      var layers = _toConsumableArray(_this.state.layers);\n\n      var index = layers.indexOf(layer);\n      layers[index].flipped = !layers[index].flipped;\n\n      _this.setState({\n        layers: layers\n      });\n    };\n\n    _this.toggleLayerTransforms = function (layer) {\n      var layers = _toConsumableArray(_this.state.layers);\n\n      var index = layers.indexOf(layer);\n      layers[index].showTransforms = !layers[index].showTransforms;\n\n      _this.setState({\n        layers: layers\n      });\n    };\n\n    _this.findBaseLayer = function () {\n      return _this.state.layers.find(function (layer) {\n        return layer.asset.base;\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 7\n        }\n      }, this.state.allAssetsLoaded ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, \"Emojibuilder v1.2\"), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }\n      }, \"Built by \", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"https://twitter.com/phlntn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 28\n        }\n      }, \"@phlntn\")), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }\n      }, \"Assets \\xA9 Apple pls don't sue me\")), /*#__PURE__*/React.createElement(\"main\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Panel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Library, {\n        ref: this.Library,\n        app: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"footer\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Import, {\n        app: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Panel preview\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Canvas, {\n        ref: this.Canvas,\n        app: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Title, {\n        ref: this.Title,\n        app: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"footer\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        label: \"Save\",\n        onClick: this.save,\n        _ref: this.SaveButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Panel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Layers, {\n        ref: this.Layers,\n        app: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"footer\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        label: \"Randomize\",\n        onClick: this.randomize,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        label: \"Clear\",\n        onClick: this.clear,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }))))) : /*#__PURE__*/React.createElement(Loading, {\n        app: this,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var assets = _toConsumableArray(this.state.assets);\n\n      return Promise.all(assets.map(function (asset) {\n        return new Promise(function (resolve, reject) {\n          var url = \"\".concat(config.assetBasePath, \"/\").concat(asset.name, \".png?v4\");\n          var options = {\n            method: 'GET',\n            mode: 'cors',\n            cache: 'force-cache'\n          };\n          fetch(url, options).then(function (response) {\n            return response.blob();\n          }).then(function (blob) {\n            asset.src = URL.createObjectURL(blob);\n            asset.imgEl = /*#__PURE__*/React.createElement(\"img\", {\n              src: asset.src,\n              alt: asset.prettyName,\n              className: \"asset\",\n              draggable: false,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 25\n              }\n            });\n            asset.img = document.createElement('img');\n\n            asset.img.onload = function (e) {\n              _this2.setState({\n                assetsLoaded: _this2.state.assetsLoaded + 1\n              });\n\n              resolve();\n            };\n\n            asset.img.src = asset.src;\n          }).catch(function (err) {\n            console.error(\"\".concat(url, \" failed to load\"), err);\n            reject();\n          });\n        });\n      })).then(function () {\n        _this2.setState({\n          assets: assets,\n          allAssetsLoaded: true\n        });\n\n        _this2.randomize();\n      });\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"names":["React","Component","Loading","Library","Layers","Canvas","Title","Button","Import","config","assets","toTitleCase","App","state","assetsLoaded","allAssetsLoaded","layers","title","createRef","SaveButton","findAsset","name","find","asset","addCustomAsset","src","substr","lastIndexOf","replace","prettyName","imgEl","img","document","createElement","category","prettyCategory","onload","e","unshift","setState","addLayer","randomize","pick","picks","filter","Math","floor","random","length","clear","then","eye","callback","base","findBaseLayer","baseAssetName","Promise","resolve","reject","save","canvas","current","mainCanvas","getTitle","button","href","toDataURL","download","window","gtag","event_category","event_label","assetName","flipped","layer","transform","translateX","translateY","scale","rotate","showTransforms","undefined","eyes","dups","position","insertIndex","min","splice","push","removeLayer","index","indexOf","flipLayer","toggleLayerTransforms","all","map","url","assetBasePath","options","method","mode","cache","fetch","response","blob","URL","createObjectURL","catch","err","console","error"],"sources":["/Users/richardyurewitch/Downloads/emojibuilder-master 3/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport './Panel.css';\n\nimport Loading from './Loading.js';\nimport Library from './Library.js';\nimport Layers from './Layers.js';\nimport Canvas from './Canvas.js';\nimport Title from './Title.js';\nimport Button from './Button.js';\nimport Import from './Import.js';\n\nimport config from './config.js';\nimport assets from './assets.js';\nimport { toTitleCase } from './utils.js';\n\nclass App extends Component {\n  state = {\n    assets,\n    assetsLoaded: 0,\n    allAssetsLoaded: false,\n    layers: [],\n    title: '',\n  };\n\n  config = config;\n\n  Library = React.createRef();\n  Layers = React.createRef();\n  Canvas = React.createRef();\n  Title = React.createRef();\n  SaveButton = React.createRef();\n\n  render() {\n    return (\n      <div className='App'>\n        { this.state.allAssetsLoaded ? (<>\n\n          <header>\n            <span>Emojibuilder v1.2</span>\n            <span>Built by <a href='https://twitter.com/phlntn'>@phlntn</a></span>\n            <span>Assets Â© Apple pls don't sue me</span>\n          </header>\n\n          <main>\n\n            <div className='Panel'>\n              <Library ref={this.Library} app={this} />\n              <footer>\n                <Import app={this} />\n              </footer>\n            </div>\n\n            <div className='Panel preview'>\n              <Canvas ref={this.Canvas} app={this} />\n              <Title ref={this.Title} app={this} />\n              <footer>\n                <Button label='Save' onClick={this.save} _ref={this.SaveButton} />\n              </footer>\n            </div>\n\n            <div className='Panel'>\n              <Layers ref={this.Layers} app={this} />\n              <footer>\n                <Button label='Randomize' onClick={this.randomize} />\n                <Button label='Clear' onClick={this.clear} />\n              </footer>\n            </div>\n\n          </main>\n\n        </>) : (\n          <Loading app={this} />\n        ) }\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    const assets = [...this.state.assets];\n\n    return Promise.all(assets.map(asset => {\n      return new Promise((resolve, reject) => {\n\n        const url = `${config.assetBasePath}/${asset.name}.png?v4`;\n\n        const options = {\n          method: 'GET',\n          mode: 'cors',\n          cache: 'force-cache'\n        };\n\n        fetch(url, options)\n        .then((response) => response.blob() )\n        .then(blob => {\n          asset.src = URL.createObjectURL(blob);\n\n          asset.imgEl = <img\n            src={asset.src}\n            alt={asset.prettyName}\n            className='asset'\n            draggable={false}\n          />;\n\n          asset.img = document.createElement('img');\n          asset.img.onload = (e) => {\n            this.setState({ assetsLoaded: this.state.assetsLoaded + 1 });\n            resolve();\n          };\n          asset.img.src = asset.src;\n\n        }).catch(err => {\n          console.error(`${url} failed to load`, err);\n          reject();\n        });\n\n      });\n    })).then(() => {\n      this.setState({\n        assets,\n        allAssetsLoaded: true,\n      });\n      this.randomize();\n    });\n  }\n\n  findAsset = (name) => {\n    return this.state.assets.find(asset => asset.name === name);\n  }\n\n  addCustomAsset = (name, src) => {\n    name = name.substr(0, name.lastIndexOf('.')).replace(/_|-/g, ' ');\n    const prettyName = toTitleCase(name);\n\n    const imgEl = <img\n      src={src}\n      alt={prettyName}\n      className='asset'\n      draggable={false}\n    />;\n\n    const img = document.createElement('img');\n\n    const asset = {\n      name,\n      prettyName,\n      category: 'custom',\n      prettyCategory: 'Custom',\n      src,\n      imgEl,\n      img,\n    };\n\n    img.onload = (e) => { \n      const assets = [...this.state.assets];\n      assets.unshift(asset);\n\n      this.setState({ assets }, () => {\n        this.addLayer(asset.name);\n      });\n    }\n\n    img.src = src;\n  }\n\n  randomize = () => {\n    function pick(category) {\n      const picks = assets.filter(asset => asset.category === category);\n      return picks[Math.floor(Math.random() * picks.length)].name;\n    }\n\n    this.clear().then(() => {\n      this.addLayer(pick('mouth'));\n    \n      const eye = pick('eye')\n      this.addLayer(eye);\n    \n      if (Math.random() > 0.5) this.addLayer(eye);\n      else this.addLayer(pick('eye'));\n    \n      if (Math.random() > 0.5) this.addLayer(pick('acc'), Math.random() > 0.5);\n    });\n  }\n\n  clear = (callback) => {\n    const base = this.findBaseLayer();\n    const baseAssetName = base ? base.asset.name : 'face_base';\n\n    return new Promise((resolve, reject) => {\n      this.setState(\n        { layers: [] }, \n        () => { \n          if (baseAssetName) this.addLayer(baseAssetName);\n          resolve();\n        }\n      );\n    })\n  }\n\n  save = () => {\n    const canvas = this.Canvas.current.mainCanvas.current;\n    const title = this.Title.current.getTitle();\n    const button = this.SaveButton.current;\n\n    button.href = canvas.toDataURL();\n    button.download = title.replace(/ /g, '_') + '.png';\n\n    if (window.gtag) {\n      window.gtag('event', 'download', { \n        event_category: 'emojibuilder', \n        event_label: title,\n      });\n    }\n  }\n\n  addLayer = (assetName, flipped) => {\n    let layers = [...this.state.layers];\n\n    const layer = {\n      asset: this.findAsset(assetName),\n      flipped,\n      transform: {\n        translateX: 0,\n        translateY: 0,\n        scale: 1,\n        rotate: 0,\n      },\n      showTransforms: false,\n    };\n  \n    // Flip any second 'eye' layers or duplicates\n    if (flipped === undefined) {\n      const eyes = layers.filter(layer => layer.asset.category === 'eye');\n      const dups = layers.filter(layer => layer.asset.name === assetName);\n  \n      layer.flipped = (\n        (eyes.length === 1 && !eyes[0].flipped) || \n        (dups.length === 1 && !dups[0].flipped)\n      );\n    }\n  \n    // Only allow one 'base' layer\n    if (layer.asset.base) {\n      layers = layers.filter(layer => !layer.asset.base);\n    }\n  \n    // Add layer at a specific position\n    if (layer.asset.position !== undefined && layers.length > 0) {\n      const insertIndex = Math.min(layer.asset.position, layers.length - 1);\n      layers.splice(insertIndex, 0, layer);\n    }\n    // Or just at the end\n    else {\n      layers.push(layer);\n    }\n  \n    this.setState({ layers });\n  }\n  \n  removeLayer = (layer) => {\n    let layers = [...this.state.layers];\n    const index = layers.indexOf(layer);\n    layers.splice(index, 1);\n  \n    this.setState({ layers });\n  }\n  \n  flipLayer = (layer) => {\n    let layers = [...this.state.layers];\n    const index = layers.indexOf(layer);\n    layers[index].flipped = !layers[index].flipped;\n\n    this.setState({ layers });\n  }\n  \n  toggleLayerTransforms = (layer) => {\n    let layers = [...this.state.layers];\n    const index = layers.indexOf(layer);\n    layers[index].showTransforms = !layers[index].showTransforms;\n\n    this.setState({ layers });\n  }\n\n  findBaseLayer = () => {\n    return this.state.layers.find(layer => layer.asset.base);\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}